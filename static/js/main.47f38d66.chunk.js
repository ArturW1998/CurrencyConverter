(this["webpackJsonpcurrency-converter"]=this["webpackJsonpcurrency-converter"]||[]).push([[0],{454:function(e,t,n){},455:function(e,t,n){"use strict";n.r(t);var r={};n.r(r),n.d(r,"getCurrencyList",(function(){return D}));var c={};n.r(c),n.d(c,"selectCurrency",(function(){return T}));var a={};n.r(a),n.d(a,"currency",(function(){return A}));n(212),n(263);var o=n(0),s=n(104),i=n(45),u=n(58),l={IS_PROD:!0,IS_DEV:!1},j=Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));function h(e,t){navigator.serviceWorker.register(e).then((function(e){e.onupdatefound=function(){var n=e.installing;null!=n&&(n.onstatechange=function(){"installed"===n.state&&(navigator.serviceWorker.controller?(console.log("New content is available and will be used when all tabs for this page are closed. See https://cra.link/PWA."),t&&t.onUpdate&&t.onUpdate(e)):(console.log("Content is cached for offline use."),t&&t.onSuccess&&t.onSuccess(e)))})}})).catch((function(e){console.error("Error during service worker registration:",e)}))}var d,b,f=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,462)).then((function(t){var n=t.getCLS,r=t.getFID,c=t.getFCP,a=t.getLCP,o=t.getTTFB;n(e),r(e),c(e),a(e),o(e)}))},v=n(82),p=n(205),O=n(36),m="SET_CURRENCY",x={currency:{}},g=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:x,t=arguments.length>1?arguments[1]:void 0,n=t.type,r=t.currency;switch(n){case m:return Object(O.a)(Object(O.a)({},e),{},{currency:r});default:return e}},y=n(65),w=n.n(y),C=n(106),N=function(){var e=Object(C.a)(w.a.mark((function e(t){var n,r,c,a,o,s,i=arguments;return w.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=i.length>1&&void 0!==i[1]?i[1]:"GET",r=i.length>2&&void 0!==i[2]?i[2]:null,c={method:n,headers:{Accept:"application/json"}},a=Object(O.a)(Object(O.a)({},c),{},{body:JSON.stringify(r),headers:Object(O.a)(Object(O.a)({},c.headers),{},{"Content-Type":"application/json"})}),o=r?a:c,e.prev=5,e.next=8,fetch(t,o);case 8:return s=e.sent,e.next=11,s.json();case 11:return e.abrupt("return",e.sent);case 14:throw e.prev=14,e.t0=e.catch(5),new Error(e.t0);case 17:case"end":return e.stop()}}),e,null,[[5,14]])})));return function(t){return e.apply(this,arguments)}}(),_={BASE_PATH:"https://www.cbr-xml-daily.ru",DAILY_PATH:"/daily_json.js"},E=_.BASE_PATH,k=_.DAILY_PATH,S={getCurrencyList:function(){return N("".concat(E).concat(k))}},P=function(e){return{type:m,currency:e}},D=function(){return function(){var e=Object(C.a)(w.a.mark((function e(t){var n,r;return w.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,S.getCurrencyList();case 3:n=e.sent,r=n.Valute,t(P(void 0===r?{}:r)),e.next=12;break;case 9:e.prev=9,e.t0=e.catch(0),console.log(e.t0);case 12:case"end":return e.stop()}}),e,null,[[0,9]])})));return function(t){return e.apply(this,arguments)}}()},T=function(e){return e.currency.currency},A=g,L=!l.IS_PROD&&"object"===typeof window&&(null===(d=(b=window).__REDUX_DEVTOOLS_EXTENSION_COMPOSE__)||void 0===d?void 0:d.call(b,{}))||v.c,F=function(e){var t=Object(v.b)(a);return Object(v.d)(t,e,L(Object(v.a)(p.a)))}({}),I=n(21),R=n(51),V=n(460),W=n(456),U=n(457),B=n(458),H=n(2),G=function(e){var t=e.CharCode,n=e.Value,r=e.Previous,c=e.Name,a=e.Nominal,o=(n-r).toPrecision(4),s=Object(H.jsx)(W.a,{sm:1,xs:1,children:"\u2191"}),i=Object(H.jsx)(W.a,{sm:1,xs:1,children:"\u2193"});return Object(H.jsxs)(U.a,{className:"currency_element",children:[Object(H.jsxs)(B.a,{className:"currency_el_label",sm:!0,xs:!0,children:[" ",c," "]}),Object(H.jsxs)(B.a,{className:"currency_data_wrapper",sm:"auto",xs:"auto",children:[Object(H.jsx)(W.a,{sm:7,xs:7,children:Object(H.jsxs)(B.a,{children:[Object(H.jsx)(W.a,{className:"p-0",sm:"auto",xs:"auto",children:"".concat(a," ").concat(t)}),Object(H.jsx)(W.a,{className:"text-center p-0",sm:2,xs:2,children:"\u2194"}),Object(H.jsx)(W.a,{className:"p-0",sm:"auto",xs:"auto",children:"".concat(n," ").concat("RUB")})]})}),Object(H.jsx)(W.a,{className:"ml-sm-4",sm:4,xs:4,children:Object(H.jsxs)(B.a,{className:"delta_wrapper",style:{color:o>0?"green":"red"},children:[o>0?s:i,Object(H.jsx)(W.a,{className:"ml-2 text-left",children:o})]})})]})]})};G.defaultProps={CharCode:"",Name:"",Nominal:0,Previous:0,Value:0};var J=G,Y=n(459),M=function(e){var t=e.searchData,n=e.value,r=e.onChange;return Object(H.jsxs)("form",{className:"searchForm",onSubmit:t,children:[Object(H.jsx)("input",{onChange:r,placeholder:"Type to search...",type:"text",value:n}),Object(H.jsx)(Y.a,{size:"sm",type:"submit",variant:"primary",children:"Search"})]})};M.defaultProps={searchData:function(){},onChange:function(){},value:""};var X=M;var z=function(){var e=c.selectCurrency,t=r.getCurrencyList,n=Object(i.c)(),a=Object(i.d)(e,i.b),s=Object(o.useState)(a),u=Object(R.a)(s,2),l=u[0],j=u[1],h=Object(o.useState)(""),d=Object(R.a)(h,2),b=d[0],f=d[1];Object(o.useEffect)((function(){n(t())}),[n,t]),Object(o.useEffect)((function(){j(a)}),[a]);var v=Object.values(l);return Object(H.jsxs)("div",{className:"currency_list_wrapper ",children:[Object(H.jsx)(X,{onChange:function(e){var t=e.target.value;return f(t)},searchData:function(e){e.preventDefault();var t={};Object.keys(a).filter((function(e){var t=a[e],n=t.Name,r=t.CharCode,c=new RegExp(".*".concat(b,".*"),"i");return c.test(n)||c.test(r)})).forEach((function(e){return t[e]=a[e]})),Object.keys(t).length&&j(t)},value:b}),v?Object(H.jsx)(H.Fragment,{children:v.map((function(e){var t=e.ID,n=e.Value,r=e.Previous,c=e.Name,a=e.Nominal,o=e.CharCode;return Object(H.jsx)(J,{CharCode:o,Name:c,Nominal:a,Previous:r,Value:n},t)}))}):Object(H.jsx)(V.a,{animation:"border",className:"align-self-center "})]})},$=n(209),q=function(){var e=c.selectCurrency,t=r.getCurrencyList,n=Object(i.c)(),a=Object(i.d)(e),s=Object(o.useState)(["EUR","AUD","GBP"]),u=Object(R.a)(s,2),l=u[0],j=u[1],h={label:"",input:1,select:"",value:""},d=Object(o.useState)([h,h]),b=Object(R.a)(d,2),f=Object(R.a)(b[0],2),v=f[0],p=f[1],m=b[1],x=Object.keys(a);Object(o.useEffect)((function(){x.length||n(t())}),[n,a,t,x.length]),Object(o.useEffect)((function(){if(x.length){j(x);var e=function(e){return{label:a[e].Name,input:1,select:e,value:a[e].Value}},t=Object(R.a)(x,2),n=t[0],r=t[1];m([e(n),e(r)])}}),[a,x.length]);var g=function(e,t){return m((function(n){return Object($.a)(n).map((function(n,r){return r===e?Object(O.a)(Object(O.a)({},n),t):n}))}))},y=Object(o.useCallback)((function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1;if(!v.value||!p.value||Number.isNaN(e))return 0;var t=v.value/p.value,n=e*t;n=n.toFixed(2),g(1,{input:n})}),[v.value,p.value]);Object(o.useEffect)((function(){var e=v.select;e&&a[e]&&y(v.input)}),[v.select,p.select,v.input,a,y]);var w=Object(H.jsx)(H.Fragment,{children:l.map((function(e){return Object(H.jsx)("option",{value:e,children:e},e)}))}),C=function(e,t,n,r,c){return Object(H.jsx)(W.a,{sm:5,xs:!0,children:Object(H.jsxs)("form",{className:n,children:[Object(H.jsx)("label",{htmlFor:r,children:e.label}),Object(H.jsx)("br",{}),Object(H.jsx)("select",{className:"converter_form_select",onChange:function(e){return function(e,t){if(e&&a[e]){var n=a[e],r=n.Name,c=n.Value;g(t,{select:e,label:r,value:c})}}(e.target.value,t)},value:e.select,children:w}),Object(H.jsx)("input",{disabled:c,id:r,onChange:function(e){var n=e.target.value;return g(t,{input:n})},type:"text",value:e.input})]})})},N=C(v,0,"converter_1","leftCurrencyForm"),_=C(p,1,"converter_2","rightCurrencyForm",!0);return Object(H.jsx)(U.a,{className:"converter_wrapper",children:Object(H.jsxs)(B.a,{children:[N,Object(H.jsx)(W.a,{className:"converter_arrow",onClick:function(){return m([p,v])},sm:"auto",xs:"auto",children:"\u2194"}),_]})})},K=function(e){var t=e.title,n=e.description,r=e.subTitle;return Object(H.jsx)("div",{className:"error",children:Object(H.jsxs)("div",{className:"container",children:[r&&Object(H.jsx)("h2",{children:r}),Object(H.jsx)("h1",{children:t}),Object(H.jsx)("p",{children:n}),Object(H.jsx)(u.b,{to:"/",children:"Go back home"})]})})};K.defaultProps={title:"404",description:"We can't find the page you're looking for.",subTitle:""};var Q=K,Z=[{id:"Currency",path:"/",exact:!0,component:z},{id:"Converter",path:"/converter",component:q},{id:"Error",component:Q,props:{subTitle:"Oops! Nothing was found."}}],ee=n(461),te=function(){var e=Z.filter((function(e){return e.path}));return Object(H.jsx)(ee.a,{variant:"pills",children:e.map((function(e){var t=e.id,n=e.path;return Object(H.jsx)(ee.a.Item,{className:"navLink",children:Object(H.jsx)(u.c,{isActive:function(e,t){return!!t&&t.pathname===n},to:n,children:t})},t)}))})},ne=function(e){var t=e.children;return Object(H.jsxs)("div",{className:"App",children:[Object(H.jsx)(te,{}),t]})},re=(n(453),n(454),function(){return Object(H.jsx)(ne,{children:Object(H.jsx)(I.c,{children:Z.map((function(e){var t=e.id,n=e.path,r=e.exact,c=e.component,a=e.props;return Object(H.jsx)(I.a,{exact:r,path:n,children:Object(H.jsx)(c,Object(O.a)({},a))},t)}))})})}),ce=n(206),ae=n(207),oe=n(210),se=n(208),ie=function(e){Object(oe.a)(n,e);var t=Object(se.a)(n);function n(){var e;Object(ce.a)(this,n);for(var r=arguments.length,c=new Array(r),a=0;a<r;a++)c[a]=arguments[a];return(e=t.call.apply(t,[this].concat(c))).state={hasError:!1},e}return Object(ae.a)(n,[{key:"render",value:function(){var e=this.state.hasError,t=this.props,n=t.children,r=t.fallback;return e?r:n}}],[{key:"getDerivedStateFromError",value:function(){return{hasError:!0}}}]),n}(o.Component),ue=Object(H.jsx)(Q,{description:"Something went wrong!",title:"Error"});Object(s.render)(Object(H.jsx)(o.StrictMode,{children:Object(H.jsx)(i.a,{store:F,children:Object(H.jsx)(u.a,{children:Object(H.jsx)(ie,{fallback:ue,children:Object(H.jsx)(re,{})})})})}),document.getElementById("root")),function(e){if(l.IS_PROD&&"serviceWorker"in navigator){if(new URL("/CurrencyConverter",window.location.href).origin!==window.location.origin)return;window.addEventListener("load",(function(){var t="".concat("/CurrencyConverter","/service-worker.js");j?(!function(e,t){fetch(e,{headers:{"Service-Worker":"script"}}).then((function(n){var r=n.headers.get("content-type");404===n.status||null!=r&&-1===r.indexOf("javascript")?navigator.serviceWorker.ready.then((function(e){e.unregister().then((function(){window.location.reload()}))})):h(e,t)})).catch((function(){console.log("No internet connection found. App is running in offline mode.")}))}(t,e),navigator.serviceWorker.ready.then((function(){console.log("This web app is being served cache-first by a service worker. To learn more, visit https://cra.link/PWA")}))):h(t,e)}))}}(),l.IS_DEV&&f(console.log)}},[[455,1,2]]]);
//# sourceMappingURL=main.47f38d66.chunk.js.map